<html lang="si">
 <head> 
  <meta charset="UTF-8"> 
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
  <link rel="icon" href="https://i.postimg.cc/kGjMN4yM/c5648a1e3b519052a4e026c6065cb40d-1-2.jpg" type="image/png"> 
  <title>‡∂Ö‡∂Ω‡∑î‡∂≠‡∑ä ‡∂Ö‡∑Ä‡∑î‡∂ª‡∑î‡∂Ø‡∑î ‡∑É‡∂Ç‡∂ú‡∑ì‡∂≠ ‡∂¥‡∑î‡∂ß‡∑î ‡∂≠‡∂ª‡∂ü‡∂∫</title> 
  <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'Arial', sans-serif;
            background-color: #FFD700;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            background-image: radial-gradient(circle, #FFD700, #FFA500);
            position: relative;
            padding: 20px;
        }
        
        .header {
            text-align: center;
            margin: 20px 0;
            color: #C00;
            font-weight:500;
            font-size: clamp(28px, 6vw, 42px);
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            padding: 10px;
            background-color: rgba(255, 255, 255, 0.7);
            border-radius: 10px;
            width: 100%;
            max-width: 800px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            border: 2px solid #C00;
        }
        
        .container {
            background-color: rgba(255, 255, 255, 0.9);
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.2);
            border: 3px solid #C00;
            width: 100%;
            max-width: 700px;
            text-align: center;
            margin: auto;
        }
      
        .home{
            position:relative;
            right:0;
            color: white;
            border: none;
            padding: 10px 20px;
            font-size: clamp(14px, 4vw, 18px);
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s;
            background-color: #C00;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            font-weight: bold;
            margin: 5px 0;
            width: 150px;
            max-width: 100%;

        }
      
        .home:hover {
            background-color: #A00;
            transform: scale(1.05);

        }
        
        h1 {
            color: #C00;
            font-size: clamp(20px, 5vw, 28px);
            margin-bottom: 20px;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2);
        }
        
        .player {
            margin: 15px 0;
        }
        
        .play-btn, .pause-btn, .choose-btn {
            color: white;
            border: none;
            padding: 10px 20px;
            font-size: clamp(14px, 4vw, 18px);
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            font-weight: bold;
            margin: 5px 0;
            width: 150px;
            max-width: 100%;
        }
        
        .play-btn {
            background-color: #C00;
        }
        
        .pause-btn {
            background-color: #333;
        }
        
        .choose-btn {
            background: linear-gradient(to right, #FFEB3B, #FF9800);
            color:black;

        }
        
        .play-btn:hover {
            background-color: #A00;
            transform: scale(1.05);
        }
        
        .pause-btn:hover {
            background-color: #222;
            transform: scale(1.05);
        }
        
        .choose-btn:hover {
            background: linear-gradient(to right, #FFC107, #FF9800);
            transform: scale(1.04);
        }
        
        .message {
            color: #333;
            font-size: clamp(12px, 3.5vw, 16px);
            margin-top: 15px;
            line-height: 1.5;
        }
        
        .emoji-container {
            font-size: clamp(18px, 5vw, 24px);
            margin-top: 15px;
        }
        
        footer {
            width: 100%;
            max-width:800px;
            text-align: center;
            color: #333;
            font-size: clamp(12px, 3vw, 16px);
            padding: 15px 0;
            margin-top: 10px;
            background-color: rgba(255, 255, 255, 0.7);
            border-radius: 10px;
        }

        .song-selector {
            width: 100%;
            padding: 10px;
            margin: 15px 0;
            border-radius: 50px;
            border: 2px solid #C00;
            font-size: clamp(12px, 3.5vw, 16px);
            background-color: rgba(255, 255, 255, 0.9);
            text-align: center;
            background-image: url('data:image/svg+xml;utf8,<svg fill="%23C00" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M7 10l5 5 5-5z"/></svg>');
            background-repeat: no-repeat;
            background-position: right 10px center;
            background-size: 20px;
            appearance: none;
            -webkit-appearance: none;
            -moz-appearance: none;
            padding-right: 35px;
            cursor: pointer;
        }
        
        .song-selector:hover {
            border-color: #A00;
        }
        
        #songTitle{
            font-size:18px;
        }
        
        .select-label {
            display: block;
            margin-bottom: 8px;
            color: #C00;
            font-weight: bold;
            font-size: clamp(14px, 4vw, 20px);
        }
        
        /* Progress bar styles */
        .progress-container {
            width: 100%;
            height: 10px;
            background-color: #ddd;
            border-radius: 5px;
            margin: 15px 0;
            overflow: hidden;
            cursor: pointer;
        }
        
        .progress-bar {
            height: 100%;
            background-color: #C00;
            width: 0%;
            transition: width 0.1s linear;
        }
        
        .time-display {
            display: flex;
            justify-content: space-between;
            font-size: 12px;
            color: #555;
            margin-top: 5px;
        }
        
        @media (max-height: 500px) {
            body {
                padding: 10px;
            }
            .header {
                margin: 10px 0;
                padding: 8px;
            }
            .container {
                padding: 15px;
            }
            h1 {
                margin-bottom: 10px;
            }
        }
     
        @media (min-width: 600px) and (max-width: 900px) {
            .container {
                padding: 35px;
            }
        }
        
        .file-input {
            display: none;
        }
    </style> 
 </head> 
 <body> 
  <a href="index.html"> <button class="home">Home</button> </a> 
  <div class="header">
    2025 ‡∂Ö‡∑Ä‡∑î‡∂ª‡∑î‡∂Ø‡∑î ‡∂ã‡∂≠‡∑ä‡∑É‡∑Ä‡∂∫ 
   <br> 
   <small>By Udeera Lochana</small> 
  </div> 
  <div class="container"> 
   <h1>‡∂Ö‡∂Ω‡∑î‡∂≠‡∑ä ‡∂Ö‡∑Ä‡∑î‡∂ª‡∑î‡∂Ø‡∑î ‡∑É‡∂Ç‡∂ú‡∑ì‡∂≠ ‡∂¥‡∑î‡∂ß‡∑î ‡∂≠‡∂ª‡∂ú‡∂∫!</h1> 
   <hr> 
   <div class="player"> 
    <label for="songSelector" class="select-label">‡∑É‡∑í‡∂Ç‡∂Ø‡∑î ‡∂≠‡∑ù‡∂ª‡∂±‡∑ä‡∂± üéµ</label> 
    <select id="songSelector" class="song-selector"> <option value="" selected disabled> ‡∑É‡∑í‡∂±‡∑ä‡∂Ø‡∑î‡∑Ä‡∂ö‡∑ä ‡∂≠‡∑ù‡∂ª‡∂±‡∑ä‡∂± - Select Song</option> <option value="https://cdn.glitch.global/6b8c59d7-9579-4df4-94f8-70a6f4995286/kiri-ithirewa-nawa-wasare-hr-jothipala.mp3?v=1743068497760">‡∂ö‡∑í‡∂ª‡∑í ‡∂â‡∂≠‡∑í‡∂ª‡∑ö‡∑Ä‡∑è ‡∂±‡∑Ä ‡∑Ä‡∑É‡∂ª‡∑ö - H.R ‡∂¢‡∑ù‡∂≠‡∑í‡∂¥‡∑è‡∂Ω</option> <option value="https://cdn.glitch.global/6b8c59d7-9579-4df4-94f8-70a6f4995286/Sirilaka%20Piri%20Aurudu%20Siri%20(Me%20Aurudde)-Rohana%20Beddage-www.song.lk.mp3?v=1743869726910">‡∑É‡∑í‡∂ª‡∑í ‡∂Ω‡∂ö ‡∂¥‡∑í‡∂ª‡∑í ‡∂Ö‡∑Ä‡∑î‡∂ª‡∑î‡∂Ø‡∑î ‡∑É‡∑í‡∂ª‡∑í - ‡∂ª‡∑ù‡∑Ñ‡∂± ‡∂∂‡∑ê‡∂Ø‡∑ä‡∂Ø‡∂ú‡∑ö </option> <option value="https://cdn.glitch.global/6b8c59d7-9579-4df4-94f8-70a6f4995286/Thun%20Hele%20Hada%20(Sooriya%20Mangalle)-Rohana%20Beddage%20Ft%20Ranwala%20Balakaya-www.song.lk.mp3?v=1743871452159">‡∑É‡∑ñ‡∂ª‡∑í‡∂∫ ‡∂∏‡∂Ç‡∂ú‡∂Ω‡∑ä‚Äç‡∂∫‡∂∫ - ‡∂ª‡∑ù‡∑Ñ‡∂± ‡∂∂‡∑ê‡∂Ø‡∑ä‡∂Ø‡∂ú‡∑ö</option> <option value="https://cdn.glitch.global/6b8c59d7-9579-4df4-94f8-70a6f4995286/Awurudu_Awa_Nawa_Awurudu_Awa_H_R_Jothipala_Sarigama_lk.mp3?v=1743867576509">‡∂Ö‡∑Ä‡∑î‡∂ª‡∑î‡∂Ø‡∑î ‡∂Ü‡∑Ä‡∑è ‡∂±‡∑Ä ‡∂Ö‡∑Ä‡∑î‡∂ª‡∑î‡∂Ø‡∑î ‡∂Ü‡∑Ä‡∑è - H.R ‡∂¢‡∑ù‡∂≠‡∑í‡∂¥‡∑è‡∂Ω</option> <option value="https://cdn.glitch.global/6b8c59d7-9579-4df4-94f8-70a6f4995286/Erabadu_Mal_Pipila_-_Awurudu_Rajiv_Sebastian_Sarigama_lk.mp3?v=1743867602387">‡∂ë‡∂ª‡∂∂‡∂Ø‡∑î ‡∂∏‡∂Ω‡∑ä ‡∂¥‡∑í‡∂¥‡∑í‡∂Ω‡∑è - ‡∂ª‡∂¢‡∑ì‡∑Ä‡∑ä ‡∑É‡∑ô‡∂∂‡∑É‡∑ä‡∂≠‡∑í‡∂∫‡∂±‡∑ä</option> <option value="https://cdn.glitch.global/6b8c59d7-9579-4df4-94f8-70a6f4995286/Aurudu%20Langa%20Una-H.R.%20Jothipala-www.song.lk.mp3?v=1744199061633">‡∂Ö‡∑Ä‡∑î‡∂ª‡∑î‡∂Ø‡∑î ‡∑Ö‡∂ü‡∑è ‡∑Ä‡∑î‡∂±‡∑è - H.R ‡∂¢‡∑ù‡∂≠‡∑í‡∂¥‡∑è‡∂Ω</option> <option value="https://cdn.glitch.global/6b8c59d7-9579-4df4-94f8-70a6f4995286/Lande%20Ukula%20Uda-Jackson%20Anthony%20Ft%20Kumari%20Munasinghe-www.song.lk.mp3?v=1744198848645">‡∂Ω‡∂±‡∑ä‡∂Ø‡∑ö ‡∂ã‡∂ö‡∑î‡∂Ω ‡∂ã‡∂© - Jackson &amp; Kumari</option> <option value="https://cdn.glitch.global/6b8c59d7-9579-4df4-94f8-70a6f4995286/kichi-bichiyata-gee-gayanna-centigradz.mp3?v=1743871876017">‡∂ö‡∑í‡∂†‡∑í ‡∂∂‡∑í‡∂ß‡∑í‡∂∫‡∂ß (‡∂ª‡∑ñ ‡∑Ä‡∂ª‡∑î‡∂´‡∑è) - Centigradz</option> <option value="https://cdn.glitch.global/6b8c59d7-9579-4df4-94f8-70a6f4995286/Koho_Mal_Waram_-_Awurudu_H_R_Jothipala_Sarigama_lk.mp3?v=1743867585374">‡∂ö‡∑ú‡∑Ñ‡∑ù ‡∂∏‡∂Ω‡∑ä ‡∑Ä‡∑è‡∂ª‡∂∏‡∑ä - H.R ‡∂¢‡∑ù‡∂≠‡∑í‡∂¥‡∑è‡∂Ω</option> <option value="https://cdn.glitch.global/6b8c59d7-9579-4df4-94f8-70a6f4995286/Suba-Sihine-Yawi-Awurudu-Song-Various-www.song.lk.mp3?v=1744198611771">‡∑É‡∑î‡∂∂ ‡∑É‡∑í‡∑Ñ‡∑í‡∂±‡∑ö ‡∂∫‡∑è‡∑Ä‡∑í - Various Artists</option> <option value="https://cdn.glitch.global/6b8c59d7-9579-4df4-94f8-70a6f4995286/mal-mal-sariya-sandalindu-duggannarala.mp3?v=1743871673805">‡∂∏‡∂Ω‡∑ä ‡∂∏‡∂Ω‡∑ä ‡∑É‡∑è‡∂ª‡∑í‡∂∫ - Sandalindu Duggannarala </option> <option value="https://cdn.glitch.global/6b8c59d7-9579-4df4-94f8-70a6f4995286/Trip%20Eka%20Pandarin%20-%20Dinuli%20Damsandi%20%5BSONG.LK%5D.mp3?v=1743867607736">Trip ‡∂ë‡∂ö ‡∂¥‡∑è‡∂±‡∑ä‡∂Ø‡∂ª‡∑í‡∂±‡∑ä - ‡∂Ø‡∑í‡∂±‡∑î‡∂Ω‡∑í ‡∂Ø‡∂∏‡∑ä‡∑É‡∂±‡∑ä‡∂Ø‡∑í</option> </select> 
    <br> 
    <button id="chooseButton" class="choose-btn">Choose Song</button> 
    <input type="file" id="fileInput" class="file-input" accept="audio/*"> 
    <br> 
    <button id="playButton" class="play-btn">Play Song</button> 
    <br> 
    <button id="pauseButton" class="pause-btn">Pause</button> 
    <!-- Progress bar and time display -->
    <div class="progress-container">
        <div id="progressBar" class="progress-bar"></div>
    </div>
    <div class="time-display">
        <span id="currentTime">0:00</span>
        <span id="duration">0:00</span>
    </div>
   </div> 
   <div class="message"> 
    <p id="songTitle">‡∑É‡∑í‡∂±‡∑ä‡∂Ø‡∑î‡∑Ä‡∂ö‡∑ä ‡∂≠‡∑ù‡∂ª‡∂±‡∑ä‡∂±, Select Song</p> 
    <p><strong>The Song Stops Automatically</strong></p> 
   </div> 
   <div class="emoji-container">
     üéµüé∂üéº 
   </div> 
  </div> 
  <footer>
    Made by ¬© Udeera Lochana 
  </footer> 
  <audio id="song" src="https://cdn.glitch.global/6b8c59d7-9579-4df4-94f8-70a6f4995286/kiri-ithirewa-nawa-wasare-hr-jothipala.mp3?v=1743068497760"></audio> 
 <script>
    const playButton = document.getElementById('playButton');
    const pauseButton = document.getElementById('pauseButton');
    const chooseButton = document.getElementById('chooseButton');
    const fileInput = document.getElementById('fileInput');
    const song = document.getElementById('song');
    const songSelector = document.getElementById('songSelector');
    const songTitle = document.getElementById('songTitle');
    const progressBar = document.getElementById('progressBar');
    const currentTimeDisplay = document.getElementById('currentTime');
    const durationDisplay = document.getElementById('duration');
    
    let stopTimeout;
    let isPlaying = false;
    let lastPlayPosition = 0;
    let customSongName = "";

    // Format time from seconds to MM:SS
    function formatTime(seconds) {
        const minutes = Math.floor(seconds / 60);
        const secs = Math.floor(seconds % 60);
        return `${minutes}:${secs < 10 ? '0' : ''}${secs}`;
    }

    // Update progress bar and time displays
    function updateProgress() {
        if (song.duration) {
            const progress = (song.currentTime / song.duration) * 100;
            progressBar.style.width = `${progress}%`;
            currentTimeDisplay.textContent = formatTime(song.currentTime);
            durationDisplay.textContent = formatTime(song.duration);
        }
    }

    // Reset progress bar when new song is loaded
    function resetProgress() {
        progressBar.style.width = '0%';
        currentTimeDisplay.textContent = '0:00';
        durationDisplay.textContent = '0:00';
    }

    // Click on progress bar to seek
    document.querySelector('.progress-container').addEventListener('click', function(e) {
        if (!song.duration) return;
        
        const width = this.offsetWidth;
        const clickX = e.offsetX;
        const duration = song.duration;
        const seekTime = (clickX / width) * duration;
        
        song.currentTime = seekTime;
        
        // If paused and user seeks, update the last play position
        if (!isPlaying) {
            lastPlayPosition = seekTime;
        }
    });

    // Update progress bar continuously
    song.addEventListener('timeupdate', updateProgress);

    // When metadata is loaded (duration available)
    song.addEventListener('loadedmetadata', function() {
        durationDisplay.textContent = formatTime(song.duration);
    });

    function getRandomTime() {
        // Random time between 30-60 seconds
        return Math.floor(Math.random() * 30000) + 30000;
    }

    function startPlayback(fromBeginning = false) {
        if (fromBeginning) {
            song.currentTime = 0;
            lastPlayPosition = 0;
        } else {
            song.currentTime = lastPlayPosition;
        }
        
        song.play()
            .then(() => {
                isPlaying = true;
                playButton.textContent = 'Playing...'; 
                
                // Set random stop time between 30-60 seconds
                const stopTime = getRandomTime();
                stopTimeout = setTimeout(function() {
                    if (isPlaying) {
                        lastPlayPosition = song.currentTime;
                        song.pause();
                        playButton.textContent = 'Play Again';
                        isPlaying = false;
                    }
                }, stopTime);
            })
            .catch(error => {
                console.error("Playback failed:", error);
                alert("‡∑É‡∑í‡∂Ç‡∂Ø‡∑î‡∑Ä ‡∑Ä‡∑è‡∂Ø‡∂±‡∂∫ ‡∂ö‡∑í‡∂ª‡∑ì‡∂∏‡∂ß ‡∂±‡∑ú‡∑Ñ‡∑ê‡∂ö‡∑í ‡∑Ä‡∑í‡∂∫. ‡∂ö‡∂ª‡∑î‡∂´‡∑è‡∂ö‡∂ª ‡∂±‡∑ê‡∑Ä‡∂≠ ‡∂ã‡∂≠‡∑ä‡∑É‡∑è‡∑Ñ ‡∂ö‡∂ª‡∂±‡∑ä‡∂±.");
                playButton.textContent = 'Play Song';
            });
    }

    // Space bar to play/pause
    document.addEventListener('keydown', function(e) {
        // Check if space bar is pressed and not in an input field
        if (e.code === 'Space' && e.target.tagName !== 'INPUT' && e.target.tagName !== 'SELECT' && e.target.tagName !== 'TEXTAREA') {
            e.preventDefault(); // Prevent default space bar behavior (scrolling)
            
            if (isPlaying) {
                // If playing, pause the song
                lastPlayPosition = song.currentTime;
                song.pause();
                isPlaying = false;
                clearTimeout(stopTimeout);
                playButton.textContent = 'Play Again';
            } else {
                // If not playing, start playback
                const fromBeginning = (lastPlayPosition === 0 || song.ended);
                startPlayback(fromBeginning);
            }
        }
    });

    playButton.addEventListener('click', function() {
        if (!isPlaying) {
            // Check if we're starting fresh or continuing
            const fromBeginning = (lastPlayPosition === 0 || song.ended);
            startPlayback(fromBeginning);
        }
    });

    pauseButton.addEventListener('click', function() {
        if (isPlaying) {
            lastPlayPosition = song.currentTime;
            song.pause();
            isPlaying = false;
            clearTimeout(stopTimeout);
            playButton.textContent = 'Play Again';
        }
    });

    // When song ends naturally
    song.addEventListener('ended', function() {
        lastPlayPosition = 0;
        playButton.textContent = 'Play Again';
        isPlaying = false;
    });

    // When song selection changes
    songSelector.addEventListener('change', function() {
        // Pause current song if playing
        if (isPlaying) {
            song.pause();
            clearTimeout(stopTimeout);
            isPlaying = false;
        }
        
        // Update song source
        const selectedOption = this.options[this.selectedIndex];
        song.src = selectedOption.value;
        lastPlayPosition = 0;
        playButton.textContent = 'Play Song';
        
        // Update displayed song title
        songTitle.textContent = selectedOption.text;
        
        // Reset progress bar immediately
        resetProgress();
        
        // When new song metadata is loaded, update duration
        const onLoaded = function() {
            durationDisplay.textContent = formatTime(song.duration);
            song.removeEventListener('loadedmetadata', onLoaded);
        };
        song.addEventListener('loadedmetadata', onLoaded);
    });

    // Initialize with first song's title
    songTitle.textContent = songSelector.options[0].text;

    // Handle choose song button click - opens file dialog
    chooseButton.addEventListener('click', function() {
        fileInput.click();
    });

    // Handle file selection
    fileInput.addEventListener('change', function(e) {
        const file = e.target.files[0];
        if (file) {
            // Pause current song if playing
            if (isPlaying) {
                song.pause();
                clearTimeout(stopTimeout);
                isPlaying = false;
            }
            
            // Create object URL for the selected file
            const objectUrl = URL.createObjectURL(file);
            
            // Extract filename without extension
            customSongName = file.name.replace(/\.[^/.]+$/, "");
            
            // Add to dropdown
            const select = songSelector;
            const option = document.createElement('option');
            option.value = objectUrl;
            option.textContent = customSongName;
            select.appendChild(option);
            select.selectedIndex = select.options.length - 1;
            
            // Update song source and title
            song.src = objectUrl;
            songTitle.textContent = customSongName;
            playButton.textContent = 'Play Song';
            lastPlayPosition = 0;
            
            // Reset progress bar
            resetProgress();
            
            // Reset file input
            fileInput.value = '';
            
            // When new song metadata is loaded, update duration
            const onLoaded = function() {
                durationDisplay.textContent = formatTime(song.duration);
                song.removeEventListener('loadedmetadata', onLoaded);
            };
            song.addEventListener('loadedmetadata', onLoaded);
        }
    });
</script>
 </body>
</html>